{"remainingRequest":"C:\\Users\\lhr4108\\Desktop\\WebstormProjects\\问卷星球\\test\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\lhr4108\\Desktop\\WebstormProjects\\问卷星球\\test\\src\\components\\Recovery.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\lhr4108\\Desktop\\WebstormProjects\\问卷星球\\test\\src\\components\\Recovery.vue","mtime":1630135996427},{"path":"C:\\Users\\lhr4108\\Desktop\\WebstormProjects\\问卷星球\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lhr4108\\Desktop\\WebstormProjects\\问卷星球\\test\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\lhr4108\\Desktop\\WebstormProjects\\问卷星球\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lhr4108\\Desktop\\WebstormProjects\\问卷星球\\test\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIG1vdW50ZWQoKSB7DQogICAgdGhpcy5heGlvcyh7DQogICAgICBtZXRob2Q6ICdQT1NUJywNCiAgICAgIHVybDogJ2h0dHA6Ly8xMjcuMC4wLjE6ODAwMC9jb25zdW1lci9nZXRRTicsDQogICAgICBkYXRhOiB7DQogICAgICAgIGFjY291bnQ6IHRoaXMuJHJvdXRlLnF1ZXJ5LmlkLA0KICAgICAgICBiaW46IHRydWUNCiAgICAgIH0NCiAgICB9KS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKQ0KDQogICAgICB0aGlzLnRhYmxlRGF0YSA9IHJlc3BvbnNlLmRhdGEucXVlc3Rpb24NCiAgICAgIGxldCBpID0gMA0KICAgICAgZm9yIChpID0gMDsgaSA8PSB0aGlzLnRhYmxlRGF0YS5sZW5ndGggLSAxOyBpKyspIHsNCiAgICAgICAgaWYgKHRoaXMudGFibGVEYXRhW2ldLmxldmVsID09PSAiMSIpIHsNCiAgICAgICAgICB0aGlzLnRhYmxlRGF0YVtpXS5sZXZlbCA9ICLmma7pgJrpl67ljbciDQogICAgICAgIH0gZWxzZSBpZiAodGhpcy50YWJsZURhdGFbaV0ubGV2ZWwgPT09ICIyIikgew0KICAgICAgICAgIHRoaXMudGFibGVEYXRhW2ldLmxldmVsID0gIuaJk+WNoemXruWNtyINCiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnRhYmxlRGF0YVtpXS5sZXZlbCA9PT0gIjMiKSB7DQogICAgICAgICAgdGhpcy50YWJsZURhdGFbaV0ubGV2ZWwgPSAi6ICD6K+V6Zeu5Y23Ig0KICAgICAgICB9IGVsc2UgaWYgKHRoaXMudGFibGVEYXRhW2ldLmxldmVsID09PSAiNCIpIHsNCiAgICAgICAgICB0aGlzLnRhYmxlRGF0YVtpXS5sZXZlbCA9ICLmiqXlkI3pl67ljbciDQogICAgICAgIH0gZWxzZSBpZiAodGhpcy50YWJsZURhdGFbaV0ubGV2ZWwgPT09ICI1Iikgew0KICAgICAgICAgIHRoaXMudGFibGVEYXRhW2ldLmxldmVsID0gIuaKleelqOmXruWNtyINCiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnRhYmxlRGF0YVtpXS5sZXZlbCA9PT0gIjYiKSB7DQogICAgICAgICAgdGhpcy50YWJsZURhdGFbaV0ubGV2ZWwgPSAi5YWz6IGU6Zeu5Y23Ig0KICAgICAgICB9DQogICAgICB9DQoNCiAgICB9KQ0KICB9LA0KICBuYW1lOiAiUmVjb3ZlcnkiLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICB0YWJsZURhdGE6IFtdDQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgc2VhcmNoMigpIHsNCiAgICAgIHRoaXMuYXhpb3Moew0KICAgICAgICBtZXRob2Q6ICdQT1NUJywNCiAgICAgICAgdXJsOiAnaHR0cDovLzEyNy4wLjAuMTo4MDAwL2NvbnN1bWVyL2dldFFOJywNCiAgICAgICAgZGF0YTogew0KICAgICAgICAgIGFjY291bnQ6IHRoaXMuJHJvdXRlLnF1ZXJ5LmlkLA0KICAgICAgICAgIGJpbjogdHJ1ZQ0KICAgICAgICB9DQogICAgICB9KS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpDQoNCiAgICAgICAgdGhpcy50YWJsZURhdGEgPSByZXNwb25zZS5kYXRhLnF1ZXN0aW9uDQogICAgICAgIGxldCBpID0gMA0KICAgICAgICBmb3IgKGkgPSAwOyBpIDw9IHRoaXMudGFibGVEYXRhLmxlbmd0aCAtIDE7IGkrKykgew0KICAgICAgICAgIGlmICh0aGlzLnRhYmxlRGF0YVtpXS5sZXZlbCA9PT0gIjEiKSB7DQogICAgICAgICAgICB0aGlzLnRhYmxlRGF0YVtpXS5sZXZlbCA9ICLmma7pgJrpl67ljbciDQogICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnRhYmxlRGF0YVtpXS5sZXZlbCA9PT0gIjIiKSB7DQogICAgICAgICAgICB0aGlzLnRhYmxlRGF0YVtpXS5sZXZlbCA9ICLmiZPljaHpl67ljbciDQogICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnRhYmxlRGF0YVtpXS5sZXZlbCA9PT0gIjMiKSB7DQogICAgICAgICAgICB0aGlzLnRhYmxlRGF0YVtpXS5sZXZlbCA9ICLogIPor5Xpl67ljbciDQogICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnRhYmxlRGF0YVtpXS5sZXZlbCA9PT0gIjQiKSB7DQogICAgICAgICAgICB0aGlzLnRhYmxlRGF0YVtpXS5sZXZlbCA9ICLmiqXlkI3pl67ljbciDQogICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnRhYmxlRGF0YVtpXS5sZXZlbCA9PT0gIjUiKSB7DQogICAgICAgICAgICB0aGlzLnRhYmxlRGF0YVtpXS5sZXZlbCA9ICLmipXnpajpl67ljbciDQogICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnRhYmxlRGF0YVtpXS5sZXZlbCA9PT0gIjYiKSB7DQogICAgICAgICAgICB0aGlzLnRhYmxlRGF0YVtpXS5sZXZlbCA9ICLlhbPogZTpl67ljbciDQogICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgIH0pDQogICAgfSwNCiAgICBoYW5kbGVFZGl0KGluZGV4LCByb3cpIHsNCiAgICAgIGNvbnNvbGUubG9nKGluZGV4LCByb3cpOw0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goe3BhdGg6ICcvcmVjb3ZlcnknLCBxdWVyeToge2lkOiByb3cuaWR9fSkNCiAgICB9LA0KICAgIGhhbmRsZURlbGV0ZShpbmRleCwgcm93KSB7DQogICAgICBjb25zb2xlLmxvZyhpbmRleCwgcm93KTsNCiAgICAgIHRoaXMuJGNvbmZpcm0oJ+atpOaTjeS9nOWwhuawuOS5heWIoOmZpOivpemXruWNtywg5piv5ZCm57un57utPycsICfmj5DnpLonLCB7DQogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywNCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsDQogICAgICAgIHR5cGU6ICd3YXJuaW5nJw0KICAgICAgfSkudGhlbigoKSA9PiB7DQogICAgICAgIHRoaXMudGFibGVEYXRhLnNwbGljZShpbmRleCwgMSkNCiAgICAgICAgdGhpcy5heGlvcyh7DQogICAgICAgICAgbWV0aG9kOiAnUE9TVCcsDQogICAgICAgICAgdXJsOiAnaHR0cDovLzEyNy4wLjAuMTo4MDAwL2NvbnN1bWVyL2RlbGV0ZV9xdXN0aW9ubmFyZScsDQogICAgICAgICAgZGF0YTogew0KICAgICAgICAgICAgaWQ6IHJvdy5pZA0KICAgICAgICAgIH0NCiAgICAgICAgfSkudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpDQogICAgICAgIH0pDQogICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywNCiAgICAgICAgICBtZXNzYWdlOiAn5Yig6Zmk5oiQ5YqfIScNCiAgICAgICAgfSk7DQogICAgICB9KS5jYXRjaCgoKSA9PiB7DQogICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgIHR5cGU6ICdpbmZvJywNCiAgICAgICAgICBtZXNzYWdlOiAn5bey5Y+W5raI5Yig6ZmkJw0KICAgICAgICB9KTsNCiAgICAgIH0pOw0KICAgIH0sDQogICAgaGFuZGxlUmVjb3ZlcihpbmRleCwgcm93KSB7DQogICAgICBjb25zb2xlLmxvZyhpbmRleCwgcm93KTsNCiAgICAgIHRoaXMuYXhpb3Moew0KICAgICAgICBtZXRob2Q6ICdQT1NUJywNCiAgICAgICAgdXJsOiAnaHR0cDovLzEyNy4wLjAuMTo4MDAwL2NvbnN1bWVyL291dF9vZl9iaW4nLA0KICAgICAgICBkYXRhOiB7DQogICAgICAgICAgaWQ6IHJvdy5pZA0KICAgICAgICB9DQogICAgICB9KS50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpDQogICAgICB9KQ0KICAgICAgdGhpcy4kYWxlcnQoJ+aBouWkjeaIkOWKnycsICfpgJrnn6Xkv6Hmga8nLCB7DQogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywNCiAgICAgICAgY2FsbGJhY2s6IGFjdGlvbiA9PiB7DQogICAgICAgICAgdGhpcy50YWJsZURhdGEuc3BsaWNlKGluZGV4LCAxKQ0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["Recovery.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Recovery.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <h2>回收站功能</h2>\r\n    <el-button type=\"primary\" round @click=\"search2\">刷新</el-button>\r\n    <el-table\r\n        :data=\"tableData\"\r\n        style=\"width: 100%\">\r\n      <el-table-column\r\n          label=\"问卷编号\"\r\n          width=\"180\">\r\n        <template slot-scope=\"scope\">\r\n          <i class=\"el-icon-time\"></i>\r\n          <span style=\"margin-left: 10px\">{{ scope.row.id }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n          label=\"问卷名称\"\r\n          width=\"180\">\r\n        <template slot-scope=\"scope\">\r\n          <el-popover trigger=\"hover\" placement=\"top\">\r\n            <p>问卷名称: {{ scope.row.title }}</p>\r\n            <p>问卷编号: {{ scope.row.id }}</p>\r\n            <div slot=\"reference\" class=\"name-wrapper\">\r\n              <el-tag size=\"medium\">{{ scope.row.title }}</el-tag>\r\n            </div>\r\n          </el-popover>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n          label=\"问卷类型\"\r\n          width=\"180\">\r\n        <template slot-scope=\"scope\">\r\n          <span style=\"margin-left: 10px\">{{ scope.row.level }}</span>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\">\r\n        <template slot-scope=\"scope\">\r\n          <el-button\r\n              size=\"mini\"\r\n              @click=\"handleEdit(scope.$index, scope.row)\">浏览\r\n          </el-button>\r\n          <el-button\r\n              size=\"mini\"\r\n              type=\"danger\"\r\n              @click=\"handleDelete(scope.$index, scope.row)\">删除\r\n          </el-button>\r\n          <el-button\r\n              size=\"mini\"\r\n              type=\"primary\"\r\n              @click=\"handleRecover(scope.$index, scope.row)\">恢复\r\n          </el-button>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  mounted() {\r\n    this.axios({\r\n      method: 'POST',\r\n      url: 'http://127.0.0.1:8000/consumer/getQN',\r\n      data: {\r\n        account: this.$route.query.id,\r\n        bin: true\r\n      }\r\n    }).then(response => {\r\n      console.log(response)\r\n\r\n      this.tableData = response.data.question\r\n      let i = 0\r\n      for (i = 0; i <= this.tableData.length - 1; i++) {\r\n        if (this.tableData[i].level === \"1\") {\r\n          this.tableData[i].level = \"普通问卷\"\r\n        } else if (this.tableData[i].level === \"2\") {\r\n          this.tableData[i].level = \"打卡问卷\"\r\n        } else if (this.tableData[i].level === \"3\") {\r\n          this.tableData[i].level = \"考试问卷\"\r\n        } else if (this.tableData[i].level === \"4\") {\r\n          this.tableData[i].level = \"报名问卷\"\r\n        } else if (this.tableData[i].level === \"5\") {\r\n          this.tableData[i].level = \"投票问卷\"\r\n        } else if (this.tableData[i].level === \"6\") {\r\n          this.tableData[i].level = \"关联问卷\"\r\n        }\r\n      }\r\n\r\n    })\r\n  },\r\n  name: \"Recovery\",\r\n  data() {\r\n    return {\r\n      tableData: []\r\n    }\r\n  },\r\n  methods: {\r\n    search2() {\r\n      this.axios({\r\n        method: 'POST',\r\n        url: 'http://127.0.0.1:8000/consumer/getQN',\r\n        data: {\r\n          account: this.$route.query.id,\r\n          bin: true\r\n        }\r\n      }).then(response => {\r\n        console.log(response)\r\n\r\n        this.tableData = response.data.question\r\n        let i = 0\r\n        for (i = 0; i <= this.tableData.length - 1; i++) {\r\n          if (this.tableData[i].level === \"1\") {\r\n            this.tableData[i].level = \"普通问卷\"\r\n          } else if (this.tableData[i].level === \"2\") {\r\n            this.tableData[i].level = \"打卡问卷\"\r\n          } else if (this.tableData[i].level === \"3\") {\r\n            this.tableData[i].level = \"考试问卷\"\r\n          } else if (this.tableData[i].level === \"4\") {\r\n            this.tableData[i].level = \"报名问卷\"\r\n          } else if (this.tableData[i].level === \"5\") {\r\n            this.tableData[i].level = \"投票问卷\"\r\n          } else if (this.tableData[i].level === \"6\") {\r\n            this.tableData[i].level = \"关联问卷\"\r\n          }\r\n        }\r\n\r\n      })\r\n    },\r\n    handleEdit(index, row) {\r\n      console.log(index, row);\r\n      this.$router.push({path: '/recovery', query: {id: row.id}})\r\n    },\r\n    handleDelete(index, row) {\r\n      console.log(index, row);\r\n      this.$confirm('此操作将永久删除该问卷, 是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        this.tableData.splice(index, 1)\r\n        this.axios({\r\n          method: 'POST',\r\n          url: 'http://127.0.0.1:8000/consumer/delete_qustionnare',\r\n          data: {\r\n            id: row.id\r\n          }\r\n        }).then(response => {\r\n          console.log(response)\r\n        })\r\n        this.$message({\r\n          type: 'success',\r\n          message: '删除成功!'\r\n        });\r\n      }).catch(() => {\r\n        this.$message({\r\n          type: 'info',\r\n          message: '已取消删除'\r\n        });\r\n      });\r\n    },\r\n    handleRecover(index, row) {\r\n      console.log(index, row);\r\n      this.axios({\r\n        method: 'POST',\r\n        url: 'http://127.0.0.1:8000/consumer/out_of_bin',\r\n        data: {\r\n          id: row.id\r\n        }\r\n      }).then(response => {\r\n        console.log(response)\r\n      })\r\n      this.$alert('恢复成功', '通知信息', {\r\n        confirmButtonText: '确定',\r\n        callback: action => {\r\n          this.tableData.splice(index, 1)\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"]}]}