{"remainingRequest":"C:\\Users\\lhr4108\\Desktop\\WebstormProjects\\问卷星球\\test\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\lhr4108\\Desktop\\WebstormProjects\\问卷星球\\test\\src\\components\\register.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\lhr4108\\Desktop\\WebstormProjects\\问卷星球\\test\\src\\components\\register.vue","mtime":1630191295499},{"path":"C:\\Users\\lhr4108\\Desktop\\WebstormProjects\\问卷星球\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lhr4108\\Desktop\\WebstormProjects\\问卷星球\\test\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\lhr4108\\Desktop\\WebstormProjects\\问卷星球\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lhr4108\\Desktop\\WebstormProjects\\问卷星球\\test\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgUGVyc29uIGZyb20gIkAvY29tcG9uZW50cy9QZXJzb24iOw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAicmVnaXN0ZXIiLA0KICBjb21wb25lbnRzOiB7UGVyc29ufSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgYWNjb3VudDogJycsDQogICAgICBwYXNzd29yZDogJycsDQogICAgICB0ZXh0MTogJycsDQogICAgICB0ZXh0MjogJycsDQogICAgICB0ZXh0MzogJycsDQogICAgICBpc0xvZ2luOiB0cnVlLA0KICAgICAgaXNSZWdpc3RlcjogZmFsc2UNCiAgICB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBjaGFuZ2UoKSB7DQogICAgICBjb25zb2xlLmxvZygi5YiH5o2i5Yqf6IO9IikNCiAgICAgIHRoaXMuaXNMb2dpbiA9ICF0aGlzLmlzTG9naW4NCiAgICAgIHRoaXMuaXNSZWdpc3RlciA9ICF0aGlzLmlzUmVnaXN0ZXINCiAgICB9LA0KICAgIGxvZ2luTWV0aG9kKCkgew0KICAgICAgY29uc29sZS5sb2coIuaCqOeCueWHu+S6hueZu+W9leaWueazlSIpOw0KICAgICAgLy8gdGhpcy4kcm91dGVyLnJlcGxhY2UoJy9wZXJzb24nKQ0KICAgICAgdGhpcy5heGlvcyh7DQogICAgICAgIG1ldGhvZDogJ1BPU1QnLA0KICAgICAgICB1cmw6ICdodHRwOi8vMTI3LjAuMC4xOjgwMDAvY29uc3VtZXIvbG9naW4nLA0KICAgICAgICAvLyB1cmw6ICdodHRwOi8vNDIuMTkzLjExMS4xODI6ODAwMC9jb25zdW1lci9sb2dpbicsDQogICAgICAgIGRhdGE6IHsNCiAgICAgICAgICBhY2NvdW50OiB0aGlzLmFjY291bnQsDQogICAgICAgICAgcGFzc3dvcmQ6IHRoaXMucGFzc3dvcmQsDQogICAgICAgIH0NCiAgICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7DQogICAgICAgIGlmIChyZXNwb25zZS5kYXRhID09PSAn5LiN5a2Y5Zyo6K+l55So5oi3Jyl7DQogICAgICAgICAgYWxlcnQoIuS4jeWtmOWcqOeUqOaIt++8jOivt+ajgOafpeeUqOaIt+WQjSIpDQogICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZGF0YSA9PT0gJ+WvhueggemUmeivrycpew0KICAgICAgICAgIGFsZXJ0KCLlr4bnoIHplJnor68iKQ0KICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEgPT09ICfkv6Hmga/kuI3lhagnKXsNCiAgICAgICAgICBhbGVydCgi5L+h5oGv5LiN5YWoIikNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBjb25zb2xlLmxvZygi55m75b2V5oiQ5YqfIikNCiAgICAgICAgICAvL+WwhueUqOaIt+WQjeWSjHRva2Vu5pS+5YWlc2Vzc2lvblN0b3JhZ2UNCiAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCJ1c2VyTmFtZSIsIHRoaXMuYWNjb3VudCk7DQogICAgICAgICAgLy8gc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgidXNlclRva2VuIiwgcmVzcG9uc2UuZGF0YS5yZXMudG9rZW4pOw0KICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCJpbiBsb2dpbiBpbWFnZSBpcyIgKyByZXNwb25zZS5kYXRhLnJlcy5pbWFnZSkNCiAgICAgICAgICAvLyBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCJ1c2VySW1hZ2UiLCByZXNwb25zZS5kYXRhLnJlcy5pbWFnZSk7DQogICAgICAgICAgLy/lsIbnlKjmiLfkv6Hmga/mlL7lhaV2dWV4DQogICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInNldFVzZXIiLCB0aGlzLmFjY291bnQpOw0KICAgICAgICAgIC8vIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJzZXRUb2tlbiIsIHJlc3BvbnNlLmRhdGEucmVzLnRva2VuKTsNCiAgICAgICAgICAvLyB0aGlzLiRzdG9yZS5kaXNwYXRjaCgic2V0SW1hZ2UiLCByZXNwb25zZS5kYXRhLnJlcy5pbWFnZSk7DQogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goe3BhdGg6ICcvcGVyc29uJywgcXVlcnk6IHtpZDogdGhpcy5hY2NvdW50fX0pDQogICAgICAgIH0NCiAgICAgICAgLy8g6YCa6L+H5ZCO56uv5Lyg5Zue5p2l55qE5pWw5o2u5Yik5pat55m75b2V5piv5ZCm5oiQ5YqfDQogICAgICB9KQ0KICAgIH0sDQogICAgcmVnaXN0ZXJNZXRob2QoKSB7DQogICAgICBjb25zb2xlLmxvZygi5oKo54K55Ye75LqG5rOo5YaM5pa55rOVIikNCiAgICAgIGlmICh0aGlzLnRleHQyICE9PSB0aGlzLnRleHQzKXsNCiAgICAgICAgYWxlcnQoIuaCqOS4pOasoei+k+WFpeeahOWvhueggeS4jeS4gOiHtCIpDQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLmF4aW9zKHsNCiAgICAgICAgICBtZXRob2Q6ICdQT1NUJywNCiAgICAgICAgICB1cmw6ICdodHRwOi8vMTI3LjAuMC4xOjgwMDAvY29uc3VtZXIvcmVnaXN0ZXInLA0KICAgICAgICAgIC8vIHVybDogJ2h0dHA6Ly80Mi4xOTMuMTExLjE4Mjo4MDAwL2NvbnN1bWVyL3JlZ2lzdGVyJywNCiAgICAgICAgICBkYXRhOiB7DQogICAgICAgICAgICBhY2NvdW50OiB0aGlzLnRleHQxLA0KICAgICAgICAgICAgcGFzc3dvcmQ6IHRoaXMudGV4dDINCiAgICAgICAgICB9DQogICAgICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgIGNvbnNvbGUubG9nKCLms6jlhoznu5PmnpwiLHJlc3BvbnNlKQ0KICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhID09PSAn5L+h5oGv5LiN5YWoJyl7DQogICAgICAgICAgICBhbGVydCgi5L+h5oGv5LiN5YWoIikNCiAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmRhdGEgPT09ICfnlKjmiLflkI3lt7Lnu4/lrZjlnKjllaYnKXsNCiAgICAgICAgICAgIGFsZXJ0KCLnlKjmiLflkI3lt7Lnu4/lrZjlnKjllaYiKQ0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBhbGVydCgi5rOo5YaM5oiQ5YqfIikNCiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKCcvcmVnaXN0ZXInKQ0KICAgICAgICAgIH0NCg0KICAgICAgICB9KQ0KICAgICAgfQ0KDQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA","file":"register.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <div id=\"Register-div\">\r\n      <input type=\"checkbox\" style=\"display: none;\" id=\"change\">\r\n      <label for=\"change\" @click=\"change\">切换功能</label>\r\n\r\n      <div class=\"turn\">\r\n        <div class=\"over\">\r\n          <form action=\"\" class=\"login\">\r\n            <div id=\"strongsize\">\r\n              <strong>\r\n                <span style=\"font-size: 35px\">登录</span>\r\n                <span style=\"font-size: 35px;color: deepskyblue\">问卷星球</span>\r\n\r\n              </strong>\r\n\r\n            </div>\r\n            <input type=\"text\" placeholder=\"用户名\" v-model=\"account\">\r\n            <input type=\"password\" placeholder=\"密码\" v-model=\"password\">\r\n\r\n            <br><br>\r\n\r\n          </form>\r\n          <form action=\"\" class=\"sign\">\r\n            <h1 style=\"color: deepskyblue\">注册账户</h1>\r\n            <input type=\"text\" placeholder=\"用户名\" v-model=\"text1\">\r\n            <input type=\"password\" placeholder=\"密码\" v-model=\"text2\">\r\n            <input type=\"password\" placeholder=\"确认密码\" v-model=\"text3\">\r\n\r\n          </form>\r\n        </div>\r\n        <br>\r\n        <el-button round @click=\"loginMethod\" type=\"primary\" v-show=\"isLogin\">登录</el-button>\r\n        <el-button round @click=\"loginMethod\" type=\"primary\" v-show=\"!isLogin\" disabled>登录</el-button>\r\n        <el-button round @click=\"registerMethod\" v-show=\"isRegister\">注册</el-button>\r\n        <el-button round @click=\"registerMethod\" v-show=\"!isRegister\" disabled>注册</el-button>\r\n      </div>\r\n\r\n    </div>\r\n\r\n    <router-view></router-view>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Person from \"@/components/Person\";\r\nexport default {\r\n  name: \"register\",\r\n  components: {Person},\r\n  data() {\r\n    return {\r\n      account: '',\r\n      password: '',\r\n      text1: '',\r\n      text2: '',\r\n      text3: '',\r\n      isLogin: true,\r\n      isRegister: false\r\n    }\r\n  },\r\n  methods: {\r\n    change() {\r\n      console.log(\"切换功能\")\r\n      this.isLogin = !this.isLogin\r\n      this.isRegister = !this.isRegister\r\n    },\r\n    loginMethod() {\r\n      console.log(\"您点击了登录方法\");\r\n      // this.$router.replace('/person')\r\n      this.axios({\r\n        method: 'POST',\r\n        url: 'http://127.0.0.1:8000/consumer/login',\r\n        // url: 'http://42.193.111.182:8000/consumer/login',\r\n        data: {\r\n          account: this.account,\r\n          password: this.password,\r\n        }\r\n      }).then(response => {\r\n        console.log(response);\r\n        if (response.data === '不存在该用户'){\r\n          alert(\"不存在用户，请检查用户名\")\r\n        } else if (response.data === '密码错误'){\r\n          alert(\"密码错误\")\r\n        } else if (response.data === '信息不全'){\r\n          alert(\"信息不全\")\r\n        } else {\r\n          console.log(\"登录成功\")\r\n          //将用户名和token放入sessionStorage\r\n          sessionStorage.setItem(\"userName\", this.account);\r\n          // sessionStorage.setItem(\"userToken\", response.data.res.token);\r\n          // console.log(\"in login image is\" + response.data.res.image)\r\n          // sessionStorage.setItem(\"userImage\", response.data.res.image);\r\n          //将用户信息放入vuex\r\n          this.$store.dispatch(\"setUser\", this.account);\r\n          // this.$store.dispatch(\"setToken\", response.data.res.token);\r\n          // this.$store.dispatch(\"setImage\", response.data.res.image);\r\n          this.$router.push({path: '/person', query: {id: this.account}})\r\n        }\r\n        // 通过后端传回来的数据判断登录是否成功\r\n      })\r\n    },\r\n    registerMethod() {\r\n      console.log(\"您点击了注册方法\")\r\n      if (this.text2 !== this.text3){\r\n        alert(\"您两次输入的密码不一致\")\r\n      } else {\r\n        this.axios({\r\n          method: 'POST',\r\n          url: 'http://127.0.0.1:8000/consumer/register',\r\n          // url: 'http://42.193.111.182:8000/consumer/register',\r\n          data: {\r\n            account: this.text1,\r\n            password: this.text2\r\n          }\r\n        }).then(response => {\r\n          console.log(\"注册结果\",response)\r\n          if (response.data === '信息不全'){\r\n            alert(\"信息不全\")\r\n          } else if (response.data === '用户名已经存在啦'){\r\n            alert(\"用户名已经存在啦\")\r\n          } else {\r\n            alert(\"注册成功\")\r\n            this.$router.replace('/register')\r\n          }\r\n\r\n        })\r\n      }\r\n\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n#Register-div {\r\n  background-size: cover;\r\n  background-attachment: fixed;\r\n  background-image: url(\"../assets/wallpaper.jpg\");\r\n  height: 2000px;\r\n  text-align: center;\r\n  overflow: hidden;\r\n  margin: 0;\r\n}\r\n\r\n.switch {\r\n  margin-top: 500px;\r\n  background-color: #FCFBFA;\r\n  width: 400px;\r\n  height: 140px;\r\n  position: absolute;\r\n  left: 50%;\r\n  margin-left: -200px;\r\n  top: 73%;\r\n  border-radius: 8px;\r\n}\r\n\r\n#change:checked + label,\r\n  /* +用来选择同级后面最近的元素  */\r\n#change:not(:checked) + label {\r\n  background-color: #75eeff;\r\n  color: black;\r\n  width: 280px;\r\n  padding: 8px 0;\r\n  /* 用padding方便文字垂直居中 */\r\n  font-size: 24px;\r\n  font-weight: 600;\r\n  position: absolute;\r\n  left: 50%;\r\n  margin-left: -140px;\r\n  top: 82%;\r\n  border-radius: 8px;\r\n  cursor: pointer;\r\n}\r\n\r\n/* 旋转体 */\r\n.turn {\r\n  width: 400px;\r\n  height: 400px;\r\n  position: absolute;\r\n  left: 50%;\r\n  margin-left: -200px;\r\n  top: 8%;\r\n  perspective: 800px;\r\n  /* 旋转的时候的透视效果 */\r\n}\r\n\r\n.over {\r\n  width: 100%;\r\n  height: 100%;\r\n  transform-style: preserve-3d;\r\n  transition: all 1.6s ease;\r\n  /* 旋转持续时间 */\r\n  /* ease是慢快慢 */\r\n}\r\n\r\n#change:checked\r\n~\r\n.turn .over {\r\n  transform: rotateY(180deg);\r\n}\r\n\r\nform {\r\n  position: absolute;\r\n  background-color: #FCFBFA;\r\n  height: 100%;\r\n  border-radius: 8px;\r\n  transform-style: preserve-3d;\r\n}\r\n\r\n.sign {\r\n  transform: rotateY(180deg);\r\n}\r\n\r\nh1, h2 {\r\n  color: #1f2029;\r\n  user-select: none;\r\n}\r\n\r\nh1 {\r\n  margin-top: 38px;\r\n}\r\n\r\ninput {\r\n  background-color: #4E495D;\r\n  width: 70%;\r\n  height: 48px;\r\n  border-radius: 8px;\r\n  margin-bottom: 20px;\r\n  padding: 0 16px;\r\n  font-size: 18px;\r\n  color: #c4c3ca;\r\n  font-weight: 500;\r\n  outline: none;\r\n  border: none;\r\n  box-shadow: 0 4px 8px 0 rgba(78, 73, 79, .5);\r\n  transform-style: preserve-3d;\r\n  transform: translate3d(0, 0, 1px);\r\n}\r\n\r\n.login input:nth-child(-n+3) {\r\n  /* 选择class为login的子元素中的前三个input */\r\n  margin: 20px 0;\r\n}\r\n\r\n.btn {\r\n  background-color: #981E61;\r\n  border: none;\r\n  width: 280px;\r\n  font-size: 24px;\r\n  font-weight: 600;\r\n  padding: 6px 0;\r\n  color: white;\r\n  border-radius: 8px;\r\n  margin-top: 15px;\r\n  cursor: pointer;\r\n}\r\n\r\n#strongsize {\r\n  margin-top: 30px;\r\n  margin-bottom: 50px;\r\n}\r\n</style>\r\n"]}]}