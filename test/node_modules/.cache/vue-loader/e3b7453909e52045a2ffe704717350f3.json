{"remainingRequest":"C:\\Users\\lhr4108\\Desktop\\WebstormProjects\\问卷星球\\test\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\lhr4108\\Desktop\\WebstormProjects\\问卷星球\\test\\src\\components\\Edit.vue?vue&type=style&index=0&id=3594053a&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\lhr4108\\Desktop\\WebstormProjects\\问卷星球\\test\\src\\components\\Edit.vue","mtime":1629771148895},{"path":"C:\\Users\\lhr4108\\Desktop\\WebstormProjects\\问卷星球\\test\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lhr4108\\Desktop\\WebstormProjects\\问卷星球\\test\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\lhr4108\\Desktop\\WebstormProjects\\问卷星球\\test\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\lhr4108\\Desktop\\WebstormProjects\\问卷星球\\test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\lhr4108\\Desktop\\WebstormProjects\\问卷星球\\test\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLmVkaXQtZGl2IHsNCiAgbWFyZ2luOiA1MHB4Ow0KfQ0K"},{"version":3,"sources":["Edit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwJA;AACA;AACA","file":"Edit.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"edit-div\">\r\n    <h1>欢迎来到问卷编辑功能</h1>\r\n<!--    <vue-qr :text=\"downloadData.url\" :margin=\"10\" colorDark=\"#000\" colorLight=\"#fff\" :dotScale=\"1\"-->\r\n<!--            :logoScale=\"0.2\" :size=\"200\"></vue-qr>-->\r\n    <h2 style=\"float: left\">{{ questionName }}</h2>\r\n<!--    <el-button @click=\"qrcode\">click生成二维码</el-button>-->\r\n    <div style=\"float: right;margin-right: 300px\">\r\n      <el-button type=\"primary\" @click=\"saveMethod\">保存问卷</el-button>\r\n      <el-button type=\"success\" @click=\"fabuMethod\">发布问卷</el-button>\r\n<!--      <el-button @click=\"returnPage\">返回</el-button>-->\r\n    </div>\r\n    <div id=\"test1\" style=\"float: right;margin: 20px\">\r\n    </div>\r\n    <div style=\"height: 80px\"></div>\r\n    <EditDanxuan></EditDanxuan>\r\n    <ul>\r\n      <!--      {{ question }}-->\r\n      <li v-for=\"item in question\" style=\"list-style: none\">\r\n        <i class=\"el-icon-edit\"></i><strong> 第 </strong><strong\r\n          style=\"color: deepskyblue\">{{ item.bianhao }}</strong><strong> 题</strong>\r\n        <EditDanxuan v-show=\"item.level === '1'\" @func1=\"getMessage\" :context=\"item.context\" :bianhao=\"item.bianhao\"\r\n                     :xuanxiang=\"item.xuanxiang.split(';')\"></EditDanxuan>\r\n        <EditDuoxuan v-show=\"item.level === '2'\" @func1=\"getMessage\" :context=\"item.context\" :bianhao=\"item.bianhao\"\r\n                     :xuanxiang=\"item.xuanxiang.split(';')\"></EditDuoxuan>\r\n        <EditTiankong v-show=\"item.level === '3'\" @func1=\"getMessage\" :context=\"item.context\"\r\n                      :bianhao=\"item.bianhao\"></EditTiankong>\r\n        <EditPingfen v-show=\"item.level === '4'\" @func1=\"getMessage\" :context=\"item.context\"\r\n                     :bianhao=\"item.bianhao\"></EditPingfen>\r\n        <br>\r\n      </li>\r\n    </ul>\r\n    <EditDuoxuan></EditDuoxuan>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport EditDanxuan from \"@/components/EditQuestion/EditDanxuan\";\r\nimport EditDuoxuan from \"@/components/EditQuestion/EditDuoxuan\";\r\nimport EditTiankong from \"@/components/EditQuestion/EditTiankong\";\r\nimport EditPingfen from \"@/components/EditQuestion/EditPingfen\";\r\nimport vueQr from 'vue-qr'\r\nimport QRCode from \"qrcodejs2\"\r\n\r\nexport default {\r\n  name: \"Edit\",\r\n  components: {\r\n    EditDanxuan,\r\n    EditDuoxuan,\r\n    EditTiankong,\r\n    EditPingfen\r\n  },\r\n  mounted() {\r\n    this.axios({\r\n      method: 'POST',\r\n      url: 'http://127.0.0.1:8000/consumer/getallQ',\r\n      data: {\r\n        id: this.$route.query.id\r\n      }\r\n    }).then(response => {\r\n      console.log(response)\r\n      this.question = response.data.question\r\n      console.log(this.question)\r\n    })\r\n  },\r\n  data() {\r\n    return {\r\n      downloadData: {\r\n        url: 'https://ys.mihoyo.com/', //需要转化成二维码的网址\r\n      },\r\n      questionName: '问卷编号:' + this.$route.query.id,\r\n      question: [\r\n        {\r\n          level: 2,\r\n          context: '这里是第一题：多选题',\r\n          xuanxiang: ['A', 'B', 'C'],\r\n          bianhao: 1\r\n        },\r\n        {\r\n          level: 3,\r\n          context: '这里是第二题：填空题',\r\n          xuanxiang: [],\r\n          bianhao: 2\r\n        },\r\n        {\r\n          level: 1,\r\n          context: '这里是第三题：单选题',\r\n          xuanxiang: ['A', 'B'],\r\n          bianhao: 3\r\n        },\r\n        {\r\n          level: 4,\r\n          context: '这里是第四题：评分题',\r\n          xuanxiang: [],  //没有选项的题目选项传入空对象\r\n          bianhao: 4  //编号可以理解为题号\r\n        }\r\n      ],\r\n      message: {}\r\n    }\r\n  },\r\n  methods: {\r\n    saveMethod() {\r\n      console.log(\"您点击了保存问卷按钮，message=\", this.question)\r\n      this.message = {\r\n        id: this.$route.query.id\r\n      }\r\n    },\r\n    fabuMethod() {\r\n      this.axios({\r\n        method: 'POST',\r\n        url: 'http://127.0.0.1:8000/consumer/publish',\r\n        data: {\r\n          id: this.$route.query.id\r\n        }\r\n      }).then(response => {\r\n        console.log(response)\r\n        alert('发布成功')\r\n      })\r\n      this.qrcode()\r\n      console.log(\"您点击了发布问卷按钮\")\r\n    },\r\n    returnPage() {\r\n      this.$router.push({path: '/person', query: {id: this.account}})\r\n    },\r\n    getMessage(data) {\r\n      console.log(\"父组件收到了子组件的信息\", data)\r\n      let i = 0\r\n      for (i = 0; i <= this.question.length - 1; i++) {\r\n        if (this.question[i].bianhao === data.bianhao) {\r\n          console.log(\"更新了数据\")\r\n          this.question[i] = data\r\n          console.log(this.question)\r\n        }\r\n      }\r\n    },\r\n    qrcode() {\r\n\r\n      let qrcode = new QRCode('test1', {\r\n        width: 100,\r\n        height: 100, // 高度\r\n        text: '问卷编号:' + this.$route.query.id + '，欢迎使用问卷星球' // 二维码内容\r\n        // render: 'canvas' // 设置渲染方式（有两种方式 table和canvas，默认是canvas）\r\n        // background: '#f0f'\r\n        // foreground: '#ff0'\r\n      });\r\n      console.log(qrcode正在执行)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.edit-div {\r\n  margin: 50px;\r\n}\r\n</style>\r\n"]}]}